<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Advanced A.I. SEO Analyzer</title>
  <style>
    /* Professional, modern styling for an A.I.-powered SEO analysis tool */
    body {
      margin: 0;
      padding: 0;
      background-color: #f8f9fa;
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      color: #333;
    }
    header {
      background: linear-gradient(135deg, #1e3c72, #2a5298);
      padding: 20px;
      text-align: center;
      color: #fff;
    }
    header h1 {
      margin: 0;
      font-size: 2.5em;
    }
    header p {
      margin-top: 5px;
      font-size: 1.1em;
      opacity: 0.9;
    }
    .container {
      max-width: 900px;
      margin: 30px auto;
      background: #fff;
      padding: 30px;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }
    .input-group {
      margin-bottom: 20px;
    }
    .input-group label {
      display: block;
      margin-bottom: 8px;
      font-weight: bold;
    }
    .input-group input,
    .input-group textarea {
      width: 100%;
      padding: 12px;
      border: 1px solid #ccc;
      border-radius: 4px;
      font-size: 16px;
    }
    button {
      background-color: #1e3c72;
      color: #fff;
      border: none;
      padding: 15px;
      width: 100%;
      border-radius: 4px;
      font-size: 18px;
      cursor: pointer;
      transition: background 0.3s ease;
    }
    button:hover {
      background-color: #16335c;
    }
    .analysis {
      margin-top: 30px;
    }
    .result-section {
      margin-bottom: 30px;
    }
    .result-section h2 {
      margin-bottom: 10px;
      border-bottom: 1px solid #ddd;
      padding-bottom: 5px;
    }
    .result-section p,
    .result-section li {
      line-height: 1.6;
    }
    .highlight {
      background-color: #ffeb3b;
      padding: 2px 4px;
      border-radius: 3px;
      cursor: help;
    }
    .results-box {
      background: #f1f1f1;
      padding: 15px;
      border: 1px solid #ddd;
      border-radius: 4px;
      margin-top: 10px;
      font-family: Consolas, monospace;
      white-space: pre-wrap;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 10px;
    }
    table, th, td {
      border: 1px solid #ccc;
    }
    th, td {
      padding: 10px;
      text-align: left;
    }
    th {
      background-color: #f9f9f9;
    }
  </style>
</head>
<body>
  <header>
    <h1>Advanced A.I. SEO Analyzer</h1>
    <p>Professional analysis for cutting-edge SEO performance</p>
  </header>
  
  <div class="container">
    <!-- Optional manual niche input -->
    <div class="input-group">
      <label for="niche">Your Niche (optional):</label>
      <input type="text" id="niche" placeholder="e.g. Digital Marketing, Health & Fitness, etc.">
    </div>
    
    <!-- Main copy input -->
    <div class="input-group">
      <label for="copy">Your Copy:</label>
      <textarea id="copy" rows="10" placeholder="Paste your text here..."></textarea>
    </div>
    
    <!-- Analyze Button -->
    <button id="analyzeBtn">Analyze SEO</button>
    
    <!-- Analysis Results -->
    <div id="results" class="analysis"></div>
  </div>
  
  <script>
    document.getElementById('analyzeBtn').addEventListener('click', function() {
      const nicheInput = document.getElementById('niche').value.trim();
      const copy = document.getElementById('copy').value;
      const resultsDiv = document.getElementById('results');
      resultsDiv.innerHTML = "";
      
      if (!copy) {
        resultsDiv.innerHTML = '<p>Please enter some copy to analyze.</p>';
        return;
      }
      
      // Extended list of overused SEO words
      const overusedWords = [
        "best", "top", "quality", "expert", "affordable", "solution", "unique", "leading", 
        "powerful", "reliable", "trusted", "proven", "innovative", "cutting-edge", 
        "state-of-the-art", "free", "guaranteed", "amazing", "ultimate", "essential", 
        "premium", "efficient", "advanced", "strategic", "professional", "dynamic", 
        "holistic", "comprehensive", "optimal", "incredible", "remarkable"
      ];
      
      // Regex to detect overused words (case-insensitive, whole words)
      const overusedRegex = new RegExp('\\b(' + overusedWords.join('|') + ')\\b', 'gi');
      
      // Highlight overused words in the copy
      const highlightedCopy = copy.replace(overusedRegex, function(match) {
        return '<span class="highlight" title="This term may be overused in SEO. Consider using synonyms.">' + match + '</span>';
      });
      
      // Compute total word count
      const words = copy.match(/\w+/g) || [];
      const totalWords = words.length;
      
      // Count each overused word's occurrences
      const overusedCounts = {};
      overusedWords.forEach(word => {
        const regex = new RegExp('\\b' + word + '\\b', 'gi');
        const matches = copy.match(regex);
        overusedCounts[word] = matches ? matches.length : 0;
      });
      
      // Niche keyword mapping for automatic detection
      const nicheMapping = {
        "Tech": ["A\\.I", "machine learning", "technology", "tech", "robotics", "data science"],
        "Sustainability": ["nature", "recycling", "reuse", "sustainable", "environment", "green", "eco"]
        // Additional niches can be added here
      };
      
      // Function to compute a simple certainty score (each occurrence = 25% up to a cap of 100%)
      function computeCertainty(count) {
        return Math.min(100, count * 25);
      }
      
      // Generate Niche Keywords Analysis section (automatic detection)
      let nicheAnalysisHTML = '<div class="result-section"><h2>Niche Keywords Analysis</h2>';
      nicheAnalysisHTML += '<table><tr><th>Niche</th><th>Keyword</th><th>Occurrences</th><th>Certainty</th></tr>';
      let anyNicheFound = false;
      
      // Loop over each niche and its keywords
      for (const niche in nicheMapping) {
        nicheMapping[niche].forEach(keywordPattern => {
          // Create a regex for the keyword (the pattern may include regex escapes)
          const regex = new RegExp('\\b' + keywordPattern + '\\b', 'gi');
          const matches = copy.match(regex);
          const count = matches ? matches.length : 0;
          const certainty = computeCertainty(count);
          if (count > 0) {
            anyNicheFound = true;
            // Clean the keyword display (remove extra escape characters)
            const cleanKeyword = keywordPattern.replace(/\\\./g, ".");
            nicheAnalysisHTML += '<tr><td>' + niche + '</td><td>' + cleanKeyword + '</td><td>' + count + '</td><td>' + certainty + '%</td></tr>';
          }
        });
      }
      if (!anyNicheFound) {
        nicheAnalysisHTML += '<tr><td colspan="4">No niche-specific keywords were detected.</td></tr>';
      }
      nicheAnalysisHTML += '</table></div>';
      
      // Manual niche analysis if user provided an optional niche input
      let manualNicheHTML = '';
      if (nicheInput) {
        const nicheKeywords = nicheInput.split(/[\s,]+/).filter(Boolean);
        const nicheRegex = new RegExp('\\b(' + nicheKeywords.join('|') + ')\\b', 'gi');
        const matches = copy.match(nicheRegex) || [];
        manualNicheHTML += '<div class="result-section"><h2>Manual Niche Analysis</h2>';
        manualNicheHTML += '<p>Your provided niche: <strong>' + nicheInput + '</strong></p>';
        manualNicheHTML += '<p>Occurrences of your niche keywords in your copy: ' + matches.length + '</p>';
        manualNicheHTML += '</div>';
      }
      
      // Overused SEO Keywords Analysis Section
      let overusedHTML = '<div class="result-section"><h2>Overused SEO Keywords Analysis</h2><ul>';
      let foundOverused = false;
      for (const [word, count] of Object.entries(overusedCounts)) {
        if (count > 0) {
          foundOverused = true;
          overusedHTML += '<li><strong>' + word + '</strong>: ' + count + ' occurrence' + (count > 1 ? 's' : '') + '</li>';
        }
      }
      overusedHTML += '</ul>';
      if (!foundOverused) {
        overusedHTML += '<p>No overused SEO keywords were detected in your copy!</p>';
      } else {
        overusedHTML += '<p>Review the highlighted terms above; consider using synonyms to improve natural language flow.</p>';
      }
      overusedHTML += '</div>';
      
      // Copy Analysis Section
      let analysisHTML = '<div class="result-section"><h2>Copy Analysis</h2>';
      analysisHTML += '<p>Total word count: ' + totalWords + '</p>';
      analysisHTML += '<p>Highlighted copy with potential overused terms:</p>';
      analysisHTML += '<div class="results-box">' + highlightedCopy + '</div>';
      analysisHTML += '</div>';
      
      // Combine all analysis sections
      resultsDiv.innerHTML = analysisHTML + nicheAnalysisHTML + manualNicheHTML + overusedHTML;
    });
  </script>
</body>
</html>
